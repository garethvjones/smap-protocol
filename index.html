<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SMAP Protocol - Secure Mail Access Protocol</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-rust.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="src/css/style.css">
    <script src="src/js/main.js"></script>
</head>
<body>
    <div class="min-h-screen bg-gray-50">
        <!-- Navigation remains the same but simplified -->
        <nav class="bg-white shadow-sm">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between h-16">
                    <div class="flex">
                        <div class="flex-shrink-0 flex items-center">
                            <span class="text-2xl font-bold text-gray-900">SMAP</span>
                        </div>

                        <div class="hidden sm:ml-6 sm:flex sm:space-x-8">
                            <a href="#status" class="border-indigo-500 text-gray-900 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium">
                                Status
                            </a>
                            <a href="#abstract" class="border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium">
                                Abstract
                            </a>
                            <a href="#protocol-overview" class="border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium">
                                Specification
                            </a>
                        </div>
                    </div>
                    
                    <div class="hidden sm:flex items-center">
                        <a href="https://github.com/garethvjones/smap-protocol" class="text-gray-500 hover:text-gray-700">
                            GitHub
                        </a>
                    </div>

                    <!-- Mobile menu button -->
                    <div class="flex items-center sm:hidden">
                        <button type="button" class="mobile-menu-button inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500" aria-controls="mobile-menu" aria-expanded="false">
                            <span class="sr-only">Open main menu</span>
                            <!-- Icons remain the same -->
                            <svg class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                            </svg>
                            <svg class="hidden h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                            </svg>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Mobile menu -->
            <div class="hidden sm:hidden" id="mobile-menu">
                <div class="pt-2 pb-3 space-y-1">
                    <a href="#status" class="bg-indigo-50 border-indigo-500 text-indigo-700 block pl-3 pr-4 py-2 border-l-4 text-base font-medium">
                        Status
                    </a>
                    <a href="#abstract" class="border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 block pl-3 pr-4 py-2 border-l-4 text-base font-medium">
                        Abstract
                    </a>
                    <a href="#protocol-overview" class="border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 block pl-3 pr-4 py-2 border-l-4 text-base font-medium">
                        Specification
                    </a>
                    <a href="https://github.com/garethvjones/smap-protocol" class="border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 block pl-3 pr-4 py-2 border-l-4 text-base font-medium">
                        GitHub
                    </a>
                </div>
            </div>
        </nav>

        <!-- RFC Header -->
        <div class="bg-white">
            <div class="max-w-7xl mx-auto py-16 px-4 sm:py-24 sm:px-6 lg:px-8">
                <div class="text-center">
                    <h1 class="text-4xl font-extrabold text-gray-900 sm:text-5xl sm:tracking-tight lg:text-6xl">
                        SMAP Protocol
                    </h1>
                    <p class="mt-4 text-xl text-gray-500">
                        RFC Draft: Secure Mail Access Protocol Version 1.0
                    </p>
                </div>
            </div>
        </div>

        <!-- Main RFC Content -->
        <div class="max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 gap-8 lg:grid-cols-3">
                <!-- RFC Navigation Sidebar -->
                <div class="lg:col-span-1">
                    <nav class="space-y-1">
                        <a href="#status" class="text-gray-600 hover:bg-gray-50 hover:text-gray-900 group rounded-md px-3 py-2 flex items-center text-sm font-medium">
                            Status of this Memo
                        </a>
                        <a href="#abstract" class="text-gray-600 hover:bg-gray-50 hover:text-gray-900 group rounded-md px-3 py-2 flex items-center text-sm font-medium">
                            Abstract
                        </a>
                        <a href="#introduction" class="text-gray-600 hover:bg-gray-50 hover:text-gray-900 group rounded-md px-3 py-2 flex items-center text-sm font-medium">
                            1. Introduction
                        </a>
                        <a href="#protocol-overview" class="text-gray-600 hover:bg-gray-50 hover:text-gray-900 group rounded-md px-3 py-2 flex items-center text-sm font-medium">
                            2. Protocol Overview
                        </a>
                        <a href="#connection" class="text-gray-600 hover:bg-gray-50 hover:text-gray-900 group rounded-md px-3 py-2 flex items-center text-sm font-medium">
                            3. Connection and Authentication
                        </a>
                        <a href="#message-format" class="text-gray-600 hover:bg-gray-50 hover:text-gray-900 group rounded-md px-3 py-2 flex items-center text-sm font-medium">
                            4. Message Format
                        </a>
                        <a href="#security" class="text-gray-600 hover:bg-gray-50 hover:text-gray-900 group rounded-md px-3 py-2 flex items-center text-sm font-medium">
                            5. Security Considerations
                        </a>
                    </nav>
                </div>

                <!-- RFC Content -->
                <div class="lg:col-span-2">
                    <div class="prose prose-indigo prose-lg text-gray-500 mx-auto">
                        <section id="status">
                            <h2 class="text-3xl font-bold text-gray-900">Status of this Memo</h2>
                            <p class="mt-4">
                                This document specifies an Internet standards track protocol for the Internet
                                community, and requests discussion and suggestions for improvements. Please
                                refer to the current edition of the "Internet Official Protocol Standards"
                                (STD 1) for the standardization state and status of this protocol.
                            </p>
                        </section>

                        <section id="abstract" class="mt-12">
                            <h2 class="text-3xl font-bold text-gray-900">Abstract</h2>
                            <p class="mt-4">
                                This document describes SMAP (Secure Mail Access Protocol), a protocol
                                designed to supersede SMTP and IMAP by providing inherent security,
                                spam prevention, and modern mail handling capabilities. SMAP incorporates
                                security at the protocol level rather than as an add-on, while
                                maintaining backwards compatibility with existing email infrastructure.
                            </p>
                        </section>

                        <section id="introduction" class="mt-12">
                            <h2 class="text-3xl font-bold text-gray-900">1. Introduction</h2>
                            <div class="mt-4">
                                <h3 class="text-2xl font-bold text-gray-800">1.1 Purpose</h3>
                                <p class="mt-2">
                                    Electronic mail remains one of the most widely used forms of digital
                                    communication. However, existing protocols (SMTP, IMAP) were designed
                                    in an era before modern security threats and spam became prevalent.
                                    SMAP addresses these challenges by incorporating security and spam
                                    prevention directly into the protocol.
                                </p>
                            </div>
                        </section>

                        <section id="protocol-overview" class="mt-12">
                            <h2 class="text-3xl font-bold text-gray-900">2. Protocol Overview</h2>
                            <div class="mt-4">
                                <h3 class="text-2xl font-bold text-gray-800">2.1 Protocol Layers</h3>
                                <p class="mt-2">SMAP operates on four distinct layers:</p>
                                <ul class="mt-4 list-disc list-inside space-y-2">
                                    <li><strong>Transport Layer:</strong> TLS 1.3+ required, binary protocol format</li>
                                    <li><strong>Authentication Layer:</strong> Identity verification, trust network integration</li>
                                    <li><strong>Message Layer:</strong> Content handling, attachment management</li>
                                    <li><strong>Security Layer:</strong> Encryption, spam prevention, trust verification</li>
                                </ul>
                            </div>
                        </section>

                        <section id="message-format" class="mt-12">
                            <h2 class="text-3xl font-bold text-gray-900">4. Message Format</h2>
                            <div class="mt-4">
                                <h3 class="text-2xl font-bold text-gray-800">4.1 Header Structure</h3>
                                <pre><code class="language-rust">
struct MessageHeader {
    version: u16,
    message_id: uuid,
    sender: Identity,
    recipients: Recipients,
    timestamp: u64,
    security: SecurityBlock
}

struct SecurityBlock {
    pow_proof: ProofOfWork,
    trust_tokens: TrustTokens,
    signatures: Signatures,
    route_verification: RouteProof
}

struct Identity {
    public_key: [u8; 32],
    address: String,
    signature: [u8; 64],
    verification_proof: [u8; 32]
}
                                </code></pre>
                            </div>
                        </section>

                        <section id="security" class="mt-12">
                            <h2 class="text-3xl font-bold text-gray-900">5. Security Considerations</h2>
                            <div class="mt-4">
                                <h3 class="text-2xl font-bold text-gray-800">5.1 Trust Network</h3>
                                <pre><code class="language-rust">
struct TrustVerification {
    sender_score: f32,
    proof_of_work: ProofOfWork,
    reputation_proof: ReputationProof,
    validator_signatures: [Signature]
}
                                </code></pre>
                                <p class="mt-4">
                                    SMAP implements a distributed trust network for sender verification and
                                    spam prevention. All messages must pass through trust verification
                                    before delivery.
                                </p>
                            </div>
                        </section>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>